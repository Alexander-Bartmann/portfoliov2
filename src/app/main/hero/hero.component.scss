@import './../../../variables.scss';
@import './../../../mixin.scss';

main {
  min-height: 85vh;
  width: 100%;
  @include display();

  > section.content {
    flex: 1;
    @include display(); // Column für die drei Ebenen
    gap: 20px;
    @include content-padding();
    width: 80%;

    // ===== HEADER-ICONS OBEN =====
    .header-icons {
      width: 100%;
      order: 1; // Ganz oben

      .right-middle {
        width: 100%;
        @include display($justify: space-between, $align: end);

        @media (max-width: 768px) {
          @include display($justify: space-between, $align: start, $direction: unset);
        }

        article {
          @include display();
          position: sticky;
          right: 25%;
          top: 46%;

          @media (max-width: 768px) {
            position: unset;
          }

          figure {
            margin: 0;

            img {
              max-width: 60px;
              height: 60px;
              border-radius: 50%;
            }
          }

          .text-group {
            text-align: center;

            p {
              margin: 5px 0;
              font-size: 0.9rem;
            }

            .color {
              color: $secondary;
            }
          }
        }

        aside.right-top {
          @include display();
          gap: 15px;

          .menu-container {
            @include display($align:end);

            button{
              display: none; // Standardmäßig ausgeblendet
            }

            .dropdown{
              background-image: url("/assets/img/Ellipse 35.png");
              background-size: contain;
              background-repeat: no-repeat;
              height: 380px;
              width: 360px;
              position: fixed; // Statt absolute
              top: 30%;
              left: 50%;
              transform: translate(-50%, -50%); // Zentriert
              @include display();
              z-index: 4;
              gap: 16px;
              font-size: 1.3rem;
              color: $main;

              @media (max-width: 460px) {
                width: 300px;
                height: 300px;
                top: 35%;
              }

              a{
                cursor: pointer;
                &:active{
                  color: $font;
                }
              }

            }
          }

          @media (max-width: 768px) {
            .menu-container {
              button{
                display: block;
                background-color: $main;
                border: none;
                cursor: pointer;

                mat-icon{
                  color: $font;
                  font-size: 56px;
                  width: 56px;
                  height: 56px;
                }
              }
            }
          }


          figure {
            margin: 0;

            @media (max-width: 768px) {
              display: none; // Auf mobilen Geräten ausblenden
            }

            svg {
              width: 28px;
              height: 28px;
              transition: all 0.2s ease;
              cursor: pointer;

              &:hover {
                transform: scale(1.15);
                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
              }
            }
          }
        }
      }
    }

    // ===== WRAPPER FÜR LEFT & RIGHT (Untereinander) =====
    .content-wrapper {
      @include display($direction: row, $align: stretch); // Left und Right nebeneinander
      gap: 20px;
      flex: 1;
      width: 100%;
      order: 2; // Unter dem Header
    }

    // ===== LINKE SEITE (Foto) =====
    .left {
      flex: 1;
      @include display($direction: column, $align: center, $justify: center);
      position: relative;
      max-width: 640px;

      figure {
        width: 100%;
        margin: 0;
        transition: all 2s ease;

        img {
          width: 100%;
          height: auto;
          display: block;
        }
      }

      .background {
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: 1;
        width: 100%;

        &:hover {
          transform: rotate(10deg) scale(0.9);
          filter: brightness(0.9) drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }
      }

      .portrait {
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: 2;
        width: 100%;
        pointer-events: none;

        img{
          @media (max-width: 768px) {
            border-radius: 0 0 110px 85px;

          }
        }

      }
    }

    // ===== RECHTE SEITE (Überschriften) =====
    .right {
      flex: 1;
      @include display($direction: column, $align: center, $justify: center);

      h1 {
        font-size: 5rem;
        font-weight: 600;
        margin: 0;
        text-align: center;
      }

      h2 {
        font-size: 1.3rem;
        margin-top: 1rem;
        text-align: center;
      }
    }
  }

  // ===== MOBILE OPTIMIERUNG =====
  @media (max-width: 768px) {
    min-height: 100vh;

    > section.content {
      width: 95%;
      padding: 1rem;
      gap: 1rem;

      // Header bleibt oben, aber kompakter
      .header-icons {
        .right-middle {
          padding: 0.5rem 0;

          article {
            figure img {
              max-width: 45px;
              height: 45px;
            }

            .text-group p {
              font-size: 0.75rem;
            }
          }

          aside.right-top {
            gap: 10px;

            figure svg {
              width: 24px;
              height: 24px;
            }
          }
        }
      }

      // Content-Wrapper wird zu Column
      .content-wrapper {
        flex-direction: column !important;
        gap: 2rem;
      }

      // Foto wird kompakter
      .left {
        max-width: 100%;
        height: 40vh;
        min-height: 300px;

        .background,
        .portrait {
          width: 80%;
          max-width: 280px;
          left: 50%;
          transform: translateX(-50%);
        }
      }

      // Überschriften werden kleiner
      .right {
        h1 {
          font-size: 2.5rem !important;
        }

        h2 {
          font-size: 1.1rem !important;
        }
      }
    }
  }

  // Sehr kleine Screens
  @media (max-width: 480px) {
    > section.content {
      .header-icons {
        .right-middle {
          article {
            figure img {
              max-width: 35px;
              height: 35px;
            }

            .text-group p {
              font-size: 0.65rem;
            }
          }

          aside.right-top {
            gap: 8px;

            figure svg {
              width: 20px;
              height: 20px;
            }
          }
        }
      }

      .left {
        height: 35vh;
        min-height: 250px;

        .background,
        .portrait {
          max-width: 220px;
        }
      }

      .right {
        h1 {
          font-size: 2rem !important;
        }

        h2 {
          font-size: 1rem !important;
        }
      }
    }
  }
}
